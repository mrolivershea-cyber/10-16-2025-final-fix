╔════════════════════════════════════════════════════════════════╗
║                                                                ║
║            CONNEXA ADMIN PANEL - ГОТОВ К УСТАНОВКЕ            ║
║                   VPN Testing + PPTP + SOCKS5                 ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝


📦 ПОЛНЫЙ АРХИВ ГОТОВ!
═══════════════════════

Файл:  connexa_admin_full.tar.gz
Путь:  /app/connexa_admin_full.tar.gz
Размер: 445 KB
Файлов: 158 (полное приложение)


🚀 БЫСТРАЯ УСТАНОВКА ЗА 5 МИНУТ
════════════════════════════════

ВАРИАНТ 1: Автоматическая установка (РЕКОМЕНДУЕТСЯ)
---------------------------------------------------

# 1. Скопируйте архив на ваш сервер
scp /app/connexa_admin_full.tar.gz root@YOUR_SERVER:/root/

# 2. На вашем сервере
ssh root@YOUR_SERVER
cd /app
tar -xzf /root/connexa_admin_full.tar.gz

# 3. Запустите автоустановку
bash /app/full_install.sh

# Готово! Скрипт установит всё: Python, Node.js, PPTP, зависимости


ВАРИАНТ 2: Через Git (если используете Github)
----------------------------------------------

1. В Emergent интерфейсе нажмите "Save to Github"
2. Подключите репозиторий
3. Сохраните код

4. На вашем сервере:
   git clone YOUR_REPO_URL
   cd YOUR_REPO
   bash full_install.sh


═══════════════════════════════════════════════════════════════
  ЧТО ВХОДИТ В АРХИВ
═══════════════════════════════════════════════════════════════

✅ BACKEND (Python/FastAPI):
   - server.py - главный API
   - database.py - SQLite модели
   - pptp_tunnel_manager.py - управление PPTP туннелями ⭐
   - socks_server.py - SOCKS5 прокси
   - socks_monitor.py - мониторинг
   - pptp_auth_test.py - PPTP тестирование
   - accurate_speed_test.py - тесты скорости
   - + все остальные модули

✅ FRONTEND (React):
   - AdminPanel.js - главная панель
   - TestingModal.js - тестирование узлов
   - SOCKSModal.js - управление SOCKS
   - + все компоненты и контексты

✅ КОНФИГУРАЦИЯ:
   - backend/.env - переменные окружения
   - frontend/.env - настройки frontend
   - requirements.txt - Python зависимости
   - package.json - Node.js зависимости

✅ СКРИПТЫ УСТАНОВКИ:
   - full_install.sh - полная автоустановка ⭐
   - install.sh - базовая установка
   - check_pptp_env.sh - проверка окружения

✅ ДОКУМЕНТАЦИЯ:
   - FULL_INSTALL_GUIDE.txt - полная инструкция
   - QUICKSTART.md - быстрый старт
   - README_DEPLOYMENT.md - детальная документация
   - PPTP_DEPLOYMENT_GUIDE.md - техническая документация


═══════════════════════════════════════════════════════════════
  СИСТЕМНЫЕ ТРЕБОВАНИЯ
═══════════════════════════════════════════════════════════════

✅ Ubuntu 20.04+ или Debian 11+
✅ Docker с --cap-add=NET_ADMIN (ОБЯЗАТЕЛЬНО!)
✅ Python 3.11+
✅ Node.js 16+
✅ 2GB RAM минимум
✅ 10GB дискового пространства


═══════════════════════════════════════════════════════════════
  ВАЖНО: DOCKER С ПРАВАМИ!
═══════════════════════════════════════════════════════════════

Контейнер ДОЛЖЕН быть запущен с:

  docker run --cap-add=NET_ADMIN YOUR_IMAGE

ИЛИ:

  docker run --privileged YOUR_IMAGE

БЕЗ ЭТОГО PPTP НЕ БУДЕТ РАБОТАТЬ!


═══════════════════════════════════════════════════════════════
  ФУНКЦИОНАЛ ПРИЛОЖЕНИЯ
═══════════════════════════════════════════════════════════════

✅ Импорт VPN узлов (7 форматов поддерживается)
✅ Тестирование узлов (PING LIGHT, PING OK, SPEED OK)
✅ Фильтрация и поиск узлов
✅ Экспорт узлов
✅ Запуск SOCKS5 через PPTP туннели ⭐ НОВОЕ
✅ Автогенерация прокси credentials
✅ Мониторинг в реальном времени
✅ Статистика и отчеты


═══════════════════════════════════════════════════════════════
  ПОСЛЕ УСТАНОВКИ
═══════════════════════════════════════════════════════════════

1. Откройте браузер: http://your-domain.com
2. Логин: admin / admin
3. Импортируйте узлы (кнопка Import)
4. Протестируйте узлы (кнопка Testing)
5. Выберите узлы со статусом ping_ok или speed_ok
6. Нажмите "Start Services"
7. Ждите 10-20 секунд (создается PPTP туннель)
8. Откройте SOCKS modal → "Открыть текстовый файл"
9. Скопируйте прокси в формате:
   your-domain.com:1083:socks_2:xBivRjFjXVqOVrQS


═══════════════════════════════════════════════════════════════
  АРХИТЕКТУРА
═══════════════════════════════════════════════════════════════

Клиент
  ↓
SOCKS5 Proxy (порт 1083) на админ сервере
  ↓  
PPTP туннель (ppp0 интерфейс)
  ↓
PPTP VPN узел
  ↓
Интернет


═══════════════════════════════════════════════════════════════
  TROUBLESHOOTING
═══════════════════════════════════════════════════════════════

Логи:
  tail -f /var/log/supervisor/backend.err.log
  tail -f /var/log/supervisor/frontend.err.log
  cat /tmp/pptp_node_2.log

Проверка окружения:
  bash /app/check_pptp_env.sh

Перезапуск сервисов:
  supervisorctl restart all


═══════════════════════════════════════════════════════════════
✅ ВСЁ ГОТОВО К УСТАНОВКЕ НА ВАШЕМ СЕРВЕРЕ!
═══════════════════════════════════════════════════════════════

Архив: /app/connexa_admin_full.tar.gz (445 KB)
Установка: bash /app/full_install.sh
